<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../swiper-behavior.html">

<dom-module id="my-carousel">
  <template>
    <style>
      :host {
        display: block;
        box-sizing: border-box;
      }

      .swiper-container {
        height: 400px;
      }

      .swiper-slide {
        background-color: #ddd;
      }

    </style>

    <div id="swiperContainer"  class="swiper-container">
      <!-- Additional required wrapper -->
      <div class="swiper-wrapper">
          <!-- Slides -->
          <template is="dom-repeat" items="{{slidesData}}">
            <div class="swiper-slide">{{item}}</div>
          </template>
      </div>
      <!-- If we need pagination -->
      <div class="swiper-pagination"></div>

      <!-- If we need navigation buttons -->
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>
  </template>

  <script>

    Polymer({

      is: 'my-carousel',

      properties: {
        swiperOpts: {
          type: Object,
          value: {
            pagination: '.swiper-pagination',
            prevButton: '.swiper-button-prev',
            nextButton: '.swiper-button-next',
            paginationClickable: true,
            slidesPerView: 4,
            spaceBetween: 40,
            breakpoints: {
              // when window width is <= 320px
              320: {
                slidesPerView: 1,
                spaceBetweenSlides: 10
              },
              // when window width is <= 480px
              480: {
                slidesPerView: 2,
                spaceBetweenSlides: 20
              },
              // when window width is <= 640px
              640: {
                slidesPerView: 3,
                spaceBetweenSlides: 30
              }
            }
          }
        },

        slidesData: {
          type: Object,
          value: function() {
            return [];
          }
        },

        autoplay: {
          type: Number,
          value: function() {
            return null;
          },
          observer: '_autoplayUpdated'
        }
      },

      behaviors: [XBehaviors.SwiperBehavior],

      _autoplayUpdated: function(autoplayValue) {
        this.setSwiperOption('autoplay', autoplayValue);
      },

    });

  </script>
</dom-module>